# 🏥 Synthea-Based Hospital Dashboard
This project establishes a scalable foundation for analyzing synthetic patient data generated by Synthea. It employs a robust architecture using PySpark for data processing and Flask/Uvicorn for serving results, centered around the Singleton pattern for efficient state management.

## 🚀 Features
1. ETL Pipeline & Data Processing: The data transformation layer is built for scalability and maintainability. 
2. Modular ETL Design: Each core dataset (Patients, Conditions, Procedures, Allergies) has its own dedicated ETL class (moduled_scripts/). This allows new datasets to be added quickly by creating a new singleton ETL class. \
3. Singleton Pattern: A consistent, application-wide approach ensures that only a single Spark Session is instantiated, and all transformed DataFrames are centrally managed and readily accessible.
4. Comprehensive Transformations: Includes standard steps necessary for clinical data analysis
   
   - Column renaming and cleaning.
   - Date parsing and handling missing values. 

   - Derived column creation (e.g., event_type, procedure_type) for enhanced analytical value.
      
   - Text extraction using regex for coded fields.

5. Master module: This module acts as the central hub, maintaining all ETL singletons and storing the resulting transformed DataFrames in a central dictionary for easy access.

6. Flask API (Deployment & Access)
Minimal Endpoints: The API is designed for easy integration with frontend visualization tools or other services.

7. ETL Ready: Singleton ETL instances are initialized upon API launch, making cleaned data immediately available for further query endpoints.


## File structure

```
Synthea-Based-Hospital-Dashboard/
├── api/
│ ├── api.py            # Flask API endpoints (Uvicorn entry)
│ └── utilities.py      
├── etl_pipeline/
│ ├── master.py         # Master ETL singleton logic
│ ├── ETL.ipynb         # Jupyter notebook for ETL testing/exploration
│ └── moduled_scripts/  # Individual ETL classes for each dataset
│     ├── patients.py
│     ├── conditions.py
│     ├── procedures.py
│     └── allergies.py
├── Datasets/csv/       # Source location for Synthea CSV datasets
└── scripts/
    └── synthea-init.sh # Script to generate synthetic patient data

```

## Installation and Usage

```
cd ~
git clone https://github.com/SarveshTikekar/Synthea-Based-Hospital-Dashboard.git
cd Synthea-Based-Hospital-Dashboard
uv sync

```

## To run the data generation script

```
cd ~/Synthea-Based-Hospital-Dashboard/scripts
chmod +x synthea-init.sh
./synthea-init.sh <no of patient-data to be generated> # Default is 2000 patients

```

